"use strict";var _createClass=function(){function a(b,c){for(var f,d=0;d<c.length;d++)f=c[d],f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(b,f.key,f)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(function(){var a=function(){function d(f){_classCallCheck(this,d),this._coords=0,this._normal=0,this._reverse=0,this._length=0,this.coords=f}return _createClass(d,[{key:"multiply",value:function(g){this._coords=d.multiply(this._coords,g.coords)}},{key:"coords",get:function(){return this._coords},set:function(g){this._coords=g,this._normal=null,this._length=null,this._reverse=null}},{key:"normal",get:function(){return this._normal||(this._normal=d.normalize(this._coords,this._length)),this._normal}},{key:"length",get:function(){return this._length||(this._length=d.getLength(this._coords)),this._length}},{key:"reverse",get:function(){return this._reverse||(this._reverse=d.reverse(this._coords)),this._reverse}}]),d}();a.reverse=function(d){return d.map(function(f){return-f})},a.normalize=function(d,f){var f=f||a.getLength(d);return d.map(function(g){return g/f})},a.getLength=function(d){var f=0;return d.forEach(function(g){f+=Math.pow(g,2)}),Math.sqrt(f)},a.multiply=function(d,f){if("number"==typeof f)return d.map(function(g){return g*f})};var b=function(){function d(f){_classCallCheck(this,d),this.element=f.element[0],this.$element=f.element,this.settings={},this.init(f)}return _createClass(d,[{key:"init",value:function(g){var h=this,j=this.element.getBoundingClientRect();if(this.addSettings(g,{sens:0.2,radius:0,type:"scroll",background:!1,direction:!1,reverse:"false"}),this.translateType=this.settings.background?"background":"element",this.width=this.$element.width(),this.height=this.$element.height(),this.pos={x:j.left+this.width/2,y:j.top+this.height/2},this.settings.direction||"scroll"!=this.settings.type||(this.settings.direction="y"),"scroll"==this.settings.type&&(this.onStartPage=!!(this.element.getBoundingClientRect().top+window.pageYOffset<window.innerHeight),this.scrollHeight=3*window.innerHeight),this.settings.background){var l=document.createElement("img");l.src=this.settings.background,l.onload=function(){h.imgPos={x:(h.width-l.width)/2,y:(h.height-l.height)/2}},this.element.style.background="url("+this.settings.background+")",this.element.style.backgroundPosition="50%"}}},{key:"translate",value:function(g,h){var j=+this.settings.sens,k=+this.settings.radius;"x"==this.settings.direction?g[1]=0:"y"==this.settings.direction&&(g[0]=0),"true"==this.settings.reverse&&(g=a.reverse(g)),h*=j,k&&h>k&&(h=k),g=a.multiply(g,h),this.settings.background?(g[0]+=this.imgPos.x,g[1]+=this.imgPos.y,this.element.style.backgroundPosition=g[0]+"px "+g[1]+"px"):this.element.style.transform="translate("+g[0]+"px ,"+g[1]+"px)"}},{key:"addSettings",value:function(g,h){for(var j in h){var k=this.$element.attr("data-"+j),l=k?k:h[j];this.settings[j]=void 0===g[j]?l:g[j]}}},{key:"offsetTop",get:function(){var g=0;return g=this.onStartPage?window.pageYOffset-Math.floor(window.pageYOffset/this.scrollHeight)*this.scrollHeight:-this.element.getBoundingClientRect().top,g}},{key:"active",get:function(){var g=window.innerHeight-this.element.getBoundingClientRect().top;return 0<g&&g<window.innerHeight+this.height}}]),d}(),c=function(){function d(){_classCallCheck(this,d),this.scrollList=[],this.mouseList=[]}return _createClass(d,[{key:"add",value:function(g){"scroll"==g.settings.type?this.scrollList.push(g):"mouse"==g.settings.type&&this.mouseList.push(g)}},{key:"start",value:function(){var g=this;document.addEventListener("scroll",function(){g.update.onScroll()}),document.addEventListener("mousemove",function(h){g.update.onMouseMove({x:h.clientX,y:h.clientY})})}},{key:"update",get:function(){var g=this,h={};return h.onMouseMove=function(j){g.mouseList.forEach(function(k){if(k.active){var l=[j.x-k.pos.x,j.y-k.pos.y],m=a.getLength(l);l=a.normalize(l),k.translate(l,m)}})},h.onScroll=function(){g.scrollList.forEach(function(j){j.active&&j.translate([1,1],j.offsetTop)})},h}}]),d}();$.fn.paralax=function(d){var f=new c;this.each(function(){d?d.element=$(this):d={element:$(this)};var g=new b(d);f.add(g)}),f.start()},$(document).ready(function(){$(".paralax").paralax()})})();